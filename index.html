<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MyBox</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="screen loadscreen hidden">

    </div>

    <div class="screen authorization">
        <div class="header">
            <p>Пропустить</p>
        </div>
        <h1>Авторизация</h1>
        <h2>Введите номер телефона</h2>
        <p>Мы отправим код по СМС, чтобы подтвердить Ваш номер телефона</p>
        <form class="telephone">
            <input type="tel" id="phone" name="phone" maxlength="15" autofocus="autofocus" required="required"
                placeholder="+7" oninput="checkPhoneNumber()"/>
        </form>
        <p class="politics">Продолжая, вы принимаете <span>политику конфиденциальности</span> и <span>пользовательское соглашение</span></p>
        <div id="btn_next" class="btn_next">
            Далее
        </div>
    </div>






    <script src="index.js"></script>

    <script>
        function checkPhoneNumber() {
            let phoneNumber = document.getElementById('phone').value;
            phoneNumber = phoneNumber.replace(/\s+/g, '');
            let button = document.getElementById('btn_next');
            if (phoneNumber.length > 11) {
                button.classList.add("active_btn");
            }
        }

        var btn = document.querySelector('.btn_next');
    var form = document.querySelector('.telephone');

        function setButtonPosition() {
        var input = document.getElementById('phone');
        var rect = input.getBoundingClientRect();
        var inputBottom = rect.top + rect.height;

        var windowHeight = window.innerHeight;
        var buttonHeight = btn.clientHeight;

        if (inputBottom > windowHeight - buttonHeight) {
            btn.style.bottom = inputBottom - windowHeight + buttonHeight + 'px';
        } else {
            btn.style.bottom = '30px';
        }
    }

    window.addEventListener('resize', setButtonPosition);
    window.addEventListener('scroll', setButtonPosition);
    window.addEventListener('focusin', setButtonPosition);
    window.addEventListener('focusout', setButtonPosition);
        </script>
    
</body>

</html>